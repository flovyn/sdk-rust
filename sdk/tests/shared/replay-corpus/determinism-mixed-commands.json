{
  "name": "determinism-mixed-commands",
  "description": "Mixed command types - tasks, timers, and child workflows interleaved",
  "workflow_execution_id": "aaaa0000-0000-0000-0000-000000000007",
  "tenant_id": "00000000-0000-0000-0000-000000000001",
  "workflow_kind": "mixed-commands-workflow",
  "input": {},
  "events": [
    {
      "sequence_number": 1,
      "event_type": "WorkflowStarted",
      "data": {
        "input": {}
      }
    },
    {
      "sequence_number": 2,
      "event_type": "TaskScheduled",
      "data": {
        "taskType": "fetch-data",
        "taskExecutionId": "task-1",
        "input": { "source": "api" }
      }
    },
    {
      "sequence_number": 3,
      "event_type": "TaskCompleted",
      "data": {
        "taskExecutionId": "task-1",
        "result": { "data": "fetched" }
      }
    },
    {
      "sequence_number": 4,
      "event_type": "TimerStarted",
      "data": {
        "timerId": "delay-1",
        "duration": 1000
      }
    },
    {
      "sequence_number": 5,
      "event_type": "TimerFired",
      "data": {
        "timerId": "delay-1"
      }
    },
    {
      "sequence_number": 6,
      "event_type": "ChildWorkflowInitiated",
      "data": {
        "childExecutionName": "process-data",
        "childWorkflowKind": "processor",
        "childworkflowExecutionId": "child-exec-1",
        "input": { "data": "fetched" }
      }
    },
    {
      "sequence_number": 7,
      "event_type": "ChildWorkflowCompleted",
      "data": {
        "childExecutionName": "process-data",
        "childworkflowExecutionId": "child-exec-1",
        "output": { "processed": true }
      }
    },
    {
      "sequence_number": 8,
      "event_type": "TaskScheduled",
      "data": {
        "taskType": "send-notification",
        "taskExecutionId": "task-2",
        "input": { "message": "done" }
      }
    },
    {
      "sequence_number": 9,
      "event_type": "TaskCompleted",
      "data": {
        "taskExecutionId": "task-2",
        "result": { "sent": true }
      }
    },
    {
      "sequence_number": 10,
      "event_type": "WorkflowCompleted",
      "data": {
        "output": { "success": true }
      }
    }
  ],
  "expected_commands": [
    { "type": "ScheduleTask", "taskType": "fetch-data" },
    { "type": "StartTimer", "timerId": "delay-1" },
    { "type": "ScheduleChildWorkflow", "workflowName": "process-data", "workflowKind": "processor" },
    { "type": "ScheduleTask", "taskType": "send-notification" },
    { "type": "CompleteWorkflow" }
  ],
  "determinism_test": {
    "type": "valid_replay",
    "description": "Per-type sequence matching allows interleaved command types to replay correctly"
  }
}
